!function(){function s(e,t){return Math.abs(e-t)<1e-12}function c(e){g.flyTo({center:[e.lng,e.lat],zoom:10,pitch:t(65,20),bearing:t(0,90),essential:!0})}function m(e){e=function(e){var t=jQuery("#routes [data-tag] h3");for(i=0;i<t.length;i++)if(t[i].innerText.toLowerCase().trim()==e.toLowerCase())return t[i]}(e);if(null!=e)return jQuery("<div>").append(jQuery(e).siblings().first().clone(),jQuery(e).clone(),jQuery(e).next().clone()).html()}function e(o,e){var t,n=document.createElement("div");const a=n.style;a.backgroundImage="url('https://ladigital.fabioziliani.it/mamo/mg4.png')",a.backgroundSize="cover",a.width="34px",a.height="50px",a.cursor="pointer";const l=new mapboxgl.Marker(n).setOffset([0,-25]).setLngLat([o.lng,o.lat]).addTo(e);try{null==(t=m(o.h3))&&(console.error("Contenuto non trovato per",o.h3),t=o.name)}catch(e){console.error(e),t=o.name}n=10;const r=new mapboxgl.Popup({offset:{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-50],"bottom-left":[25,-65],"bottom-right":[-25,-65],left:[n,-40],right:[-n,-40]},className:"my-class",closeButton:!1}).setLngLat([o.lng,o.lat]).setHTML(t).setMaxWidth("300px").addTo(e);r.on("open",e=>{var t;(function(e){var t=g.getCenter(),o=g.getZoom();return s(t.lng,e.lng)&&s(t.lat,e.lat)&&9<o})(t=o)||(c(t),0)||r.remove()}),r.remove(),l.setPopup(r)}window.navigateTo=function(t){c(o.find(e=>e.h3==t))};const o=[{h3:"COLLE DEL SOMMEILLER",name:"Colle del Sommeiller",lat:45.13563469802622,lng:6.846677558547623},{h3:"VIA DEL SALE",name:"Via del Sale",lat:44.14956851189366,lng:7.561840203233174},{h3:"ALTOPIANO DI ASIAGO",name:"Altopiano di Asiago",lat:45.80432913098119,lng:11.535367879903378},{h3:"MONTE PENNA- AVETO",name:"Monte Penna - Aveto",lat:44.48665018236158,lng:9.495676623628848},{h3:"MONTE CUSNA",name:"Monte Cusna",lat:44.246147089220244,lng:10.425967323344276},{h3:"ABETONE",name:"Monte Cimone",lat:44.197106381453814,lng:10.701338860199595}];mapboxgl.accessToken="pk.eyJ1IjoiZnV2Y2FxdXZ6Y2JuamhlIiwiYSI6ImNrdWU4Zmp6eDFobGcyb2xtamZsbWdtY20ifQ.vn4A_kvxiay9lDRHpAahMw";const g=new mapboxgl.Map({container:"mapFabio",style:"mapbox://styles/fuvcaquvzcbnjhe/ckue9aok02wkz17mvy2jic097",center:[10.098414994852149,44.79527913699855],zoom:5,pitch:0,bearing:0});g.scrollZoom.disable(),g.addControl(new mapboxgl.NavigationControl({showCompass:!1,showZoom:!0})),g.on("load",()=>{g.addLayer({id:"sky",type:"sky",paint:{"sky-type":"gradient","sky-gradient":["interpolate",["linear"],["sky-radial-progress"],.8,"rgba(135, 206, 235, 1.0)",1,"rgba(0,0,0,0.1)"],"sky-gradient-center":[0,0],"sky-gradient-radius":90,"sky-opacity":["interpolate",["exponential",.1],["zoom"],5,0,22,1]}})});for(const n of o)e(n,g);function t(e,t){return e+(Math.random()*t*2-t)}console.log("mapFabio v16")}();